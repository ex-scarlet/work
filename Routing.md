라우팅이란?
========================================================================

라우팅은 네트워크에서 경로를 선택하는 프로세스입니다.  

컴퓨터 네트워크는 노드라고 하는 여러시스템과 이러한 노드를 연결하는 경로 또는 링크로 구성됩니다.  

상호 연결된 네트워크에서 두 노드 간의 통신은 여러 경로를 통해 이루어질 수 있습니다.  

라우팅은 미리 정해진 규칙을 사용하여 최상의 경로를 선택하는 프로세스입니다.

라우팅이 중요한 이유
========================================================================

라우팅은 네트워크 통신의 효율성을 높입니다.  

네트워크 통신 장애가 발생하게 되면 웹 사이트 페이지가 로드될 때까지 사용자가 기다리는 시간이 길어집니다.  
또한, 웹 사이트 서버에서 많은 수의 사용자를 처리하지 못해 서버의 작동이 중단될 수 있습니다.  

라우팅은 네트워크가 정체 없이 최대한 많은 용량을 사용할 수 있도록 데이터 트래픽을 관리함으로써, 네트워크 장애를 최소화해줍니다.

라우터란?
========================================================================

라우터는 컴퓨팅 디바이스와 네트워크를 다른 네트워크에 연결하는 네트워킹 디바이스입니다.  
라우터는 주로 3가지 기본 기능을 수행합니다.  

### 1. 경로 결정

  * 라우터는 소스에서 대상으로 이동하는 데이터의 경로를 결정합니다.
  * 지연, 용량 및 속도와 같은 네트워크 지표를 분석하여 최상의 경로를 찾으려고 시도합니다.

### 2. 데이터 전달

  * 라우터는 선택한 경로의 다음 디바이스로 데이터를 전달하여 최종적으로 대상에 도달하도록 합니다.
  * 디바이스와 라우터는 동일한 네트워크에 있거나 서로 다른 네트워크에 있을 수 있습니다.

### 3. 로드 밸런싱

  * 경우에 따라 라우터가 여러 경로를 사용하여 동일한 데이터 패킷의 여러 사본을 전송할 수도 있습니다.
  * 이 방법을 통해 데이터 손실로 인한 오류를 줄이고 이중화를 구현하고 트래픽 볼륨을 관리합니다.

라우팅은 어떻게 작동하는가?
========================================================================

데이터는 데이터 패킷의 형태로 네트워크를 통해 이동합니다.  

각 데이터 패킷에는 패킷의 의도된 대상에 대한 정보가 포함된 헤더가 있습니다.  

패킷이 대상으로 이동하는 동안 여러 라우터가 패킷을 여러번 라우팅 할 수 있습니다.  

라우터는 수백만 개의 패킷에 대해초당 수백만 번 이 프로세스를 수행합니다.  

데이터 패킷이 도착하면 라우터는 먼저 라우팅 테이블에서 그 주소를 찾습니다.  
(이는 목적지까지 가는 데 가장 적합한 버스 노선을 찾기 위해 버스 시간표를 참조하는 승객에 비유할 수 있습니다.)  

그 다음 라우터는 패킷을 네트워크의 다음 지점으로 전달하거나 이동합니다.  

예를 들어 사무실 네트워크의 컴퓨터에서 웹 사이트를 방무하면, 데이터 패킷이 먼저 사무실 네트워크 라우터로 이동합니다.  

라우터가 헤더 패킷을 조회하고 패킷 대상을 결정합니다. 그 다음 내부 테이블을 조회하고, 네트워크 자체 내에서  
패킷을 다음 라우터로 전달하거나 프린터와 같은 다른 디바이스로 전달합니다.

라우팅의 유형
=======================================================================

라우터가 라우팅 테이블을 만드는 방식에 따라 라우팅은 2가지 유형으로 구분됩니다.

### 정적 라우팅

정적 라우팅에서는 네트워크 관리자가 정적 테이블을 사용하여 네트워크 경로를 수동으로 구성하고 선택합니다.  

정적 라우팅은 네트워크 설계나 파라미터가 일정하게 유지될 것으로 예상되는 경우에 유용합니다.  

이 라우팅 기법에서는 정적 특성으로 인해 네트워크 정체와 같은 단점이 나타날 수 있습니다.  

링크에서 장애가 발생할 경우에 대비해 관리자가 대체 경로를 구성할 수도 있지만, 일반적으로 정적 라우팅은  
네트워크의 적응성과 유연성을 저하시켜 네트워크 성능을 제한합니다.

### 동적 라우팅

동적 라우팅에서의 라우터는 실제 네트워크 조건에 따라 런타임에 라우팅 테이블을 만들고 업데이트합니다.  

동적 라우팅 테이블을 만들고 유지 관리하고 업데이트하는 규칙 집합인 동적 라우팅 프로토콜을 사용하여 소스에서 대상까지 가장 빠른 경로를 찾으려 시도합니다.  

동적 라우팅의 가장 큰 장점은 트래픽 볼륨, 대역폭, 네트워크 장애 등 변화하는 네트워크 조건에 대응한다는 것입니다.

주요 라우팅 프로토콜
=======================================================================

라우팅 프로토콜은 라우터가 패킷을 식별하고 네트워크 경로를 따라 전달하는 방법을 지정하는 규칙 세트입니다.  

라우팅 프로토콜은 내부 게이트웨이 프로토콜과 외부 게이트웨이 프로토콜이라는 2가지 범주로 분류됩니다.

### 내부 게이트웨이 프로토콜

이 프로토콜은 자율 시스템을 평가하고 다음과 같은 다양한 지표를 기준으로 라우팅과 관련한 결정을 내립니다.

  * 홉 수 또는 소스와 대상 간의 라우터 수
  * 지연 또는 소스에서 대상으로 데이터를 전송하는 데 걸린 시간
  * 대역폭 또는 소스와 대상 간의 링크 용량

다음은 내부 게이트웨이 프로토콜의 몇 가지 예시입니다.

 1. Routing Information Protocol`(RIP)`
    * `(RIP)`은 __홉 수__ 를 기준으로 네트워크 간의 최단 경로를 결정합니다.
    * `RIP`은 대규모 네트워크를 구현하는데 적합하지 않기 떄문에 현재는 사용되지 않는 레거시 프로토콜입니다.
   
### 홉 수(Hop count)
데이터가 출발지와 목적지 사이에서 통과해야 하는 중간 장치들의 개수
`RIP` 라우팅 프로토콜의 경우 최대 홉 수는 15개이다(16은 `무한대`를 의미)

 2. Open Shortest Path First`(OSPF)`
    * `OSPF`프로토콜은 자율 시스템의 다른 모든 라우터에서 정보를 수집하여 데이터 패킷을 대상까지 가장 짧고 빠른 경로를 식별합니다.
    * 다양한 라우팅 알고리즘 또는 컴퓨터 프로세스를 사용하여 OSPF를 구현할 수 있습니다.
   
### 외부 게이트웨이 프로토콜

Border Gateway Protocol(BGP)은 유일한 외부 게이트웨이 프로토콜입니다.

 1. Border Gateway Protocol

    * BGP는 인터넷을 통한 통신을 정의합니다. 인터넷은 서로 모두 연결되어 있는 대규모 자율 시스템의 모음입니다.
    * 모든 자율 시스템에는 Internet Assigned Numbers Authority에 등록하여 할당받는 Autonomous System Number`(ASN)`가 있습니다.
    * `BGP`는 가장 가까운 `ASN`을 추적하고 대상 주소를 해당 `ASN`에 매핑하는 방식으로 작동합니다.
   
### 라우팅 알고리즘

  라우팅 알고리즘은 다양한 라우팅 프로토콜을 구현하는 소프트웨어 프로그램입니다. 각 링크에 비용 수치를 할당하는 방식으로 작동합니다.  

  비용 수치는 다양한 네트워크 지표를 사용하여 계산됩니다. 모든 라우터는 데이터 패킷을 최저 비용으로 차선의 링크에 전달하려고 시도합니다.  

  다음은 몇 가지 알고리즘의 예입니다.  

  1. 거리 벡터 라우팅

     * 거리 벡터 라우팅 알고리즘에서는 모든 라우터가 각각 찾은 최상의 경로 정보를 주기적으로 서로 업데이트 해 주어야 합니다.
     * 각 라우터는 총 비용의 현재 평과 결과에 대한 정보를 알려진 모든 대상으로 보냅니다.

       결국 네트워크의 모든 라우터는 가능한 모든 대상에 대한 최상의 경로에 대한 정보를 찾게 됩니다.

  2. 링크 상태 라우팅

     * 링크 상태 라우팅에서는 모든 라우터가 네트워크의 다른 모든 라우터를 검색합니다.
     * 라우터는 이 정보를 사용하여 전체 네트워크의 맵을 만든 다음 데이터 패킷의 최단 경로를 계산합니다.
      
    

