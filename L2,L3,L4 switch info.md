L2, L3, L4 스위치의 개념 및 정의
=======================================================================================================================================

스위치
---------------------------------------------------------------------------------------------------------------------------------------

### 1. 스위치의 정의
   - 허브의 확장된 개념으로 기본 기능은 허브와 동일하지만  
     전송 중 패킷의 충돌이 일어나지 않도록 패킷의 목적지로 지정할 포트를 직접 전송합니다.
   - 스위치에서 패킷의 목적지 주소를 기준으로 보내는 곳과 받는 곳을 계산하여, 해당 포트로 `1:1`로 연결합니다.
   - 스위칭은 정보 전달의 수단과 회선의 효율적 운용을 위해 입출력 사태를 감시하며,
     전송로의 장애 발생 시 현재 상태에서 예비 상태로 전환됩니다.

### 2. 스위치의 특징
   - 패킷을 보내는 노드와 받는 노드를 `1:1`로 연결 해 주기 때문에 충돌이 발생하지 않습니다.
     - 빠른 속도로 전송 가능
   - 두 개의 노드가 통신을 하는 동안 다른 노드들도 서로간의 통신이 동시에 가능하며, 이더넷에서 높은 효율을 갖습니다.
   - 노드의 수가 증가해도 속도의 저하가 일어나지 않으며, 패킷의 감청이 어려운 구조이므로 보안성이 높습니다.
   - 기본적으로 `Processor`, `RAM`, `OS`를 탑재하므로 많은 부가 기능을 갖습니다.
  
### 3. 스위치의 장점
   - 완전한 이중화와 `Fault-Tolerant` 구성이 가능하며, 대역폭 비용이 낮아집니다.
   - 트래픽 제어가 상대적으로 높으며, 포트 당 속도가 일정하게 보장됩니다.
   - 여러 노드에서 동시 통신을 할 때 속도 저하가 없고, 성능이 향상됩니다.
   - 전이중 통신 모드로 네트워크상의 불필요한 패킷의 흐름을 막으며, 충돌이 발생하지 않아 빠른 속도의 전송이 가능합니다.
   - 각 `DTE`는 스위치를 몰라도 데이터 전송에는 상관이 없으며, 많은 부가 기능이 있습니다.
  
### 4. 스위치의 구분
   - 어떤 주소를 가지고 스위칭을 하는가에 따라 `L2`, `L3`, `L4` 스위치로 구분됩니다.
   - `L2`는 `MAC` 주소를 이용하여 스위칭 할 수 있고
   - `L3`는 프로토콜 주소 를 이용하여 스위칭 할 수 있으며
   - `L4`는 세션 프로토콜 를 이용하여 스위칭 할 수 있습니다.

L2
---------------------------------------------------------------------------------------------------------------------------------------
  
### 5. Layer2 스위치의 특징
   - `L2` 스위치로 가장 흔히 볼 수 있는 스위칭 방식이며, 다른 방식에 비해 저렴합니다.
   - 패킷의 `MAC` 주소를 읽어 스위칭을 하고, MAC이 OSI 계층 중 `2계층`에 해당하기 때문에 `Layer 2` 스위치라고 합니다.
   - 기본적인 동작은 브리지나 스위칭 허브는 모든 자료를 보내는 곳으로 수신 번지를 전송합니다.
   - 브리지는 어떤 포트에서 받은 데이터를 다른 모든 포트로 전송하나, `L2` 스위치 허브에서는 여러개의 포트 중 특정 포트로만 전송합니다.

### <동작 원리>
   - 다른 스위치처럼 프로세서, 메모리, 펌웨어(운영체제) 가 담겨 있는 `FLASH ROM`으로 이루어져 있습니다.
   - 부팅이 되면 `L2` 스위치는 각 포트별로 연결되어 있는 노드의 상태를 확인합니다.
   - 각 노드의 `MAC` 주소를 알아내서 이것을 메모리에 적재하게 되고, 패킷이 전달될 때 이 정보를 바탕으로 스위칭 하게 됩니다.
   - 스위치의 운영 체제가 적재되거나 스위칭을 할 때 각 포트별 주소가 저장됩니다.
     - 스위칭 허브 메모리
   - 스위칭 허브를 선택할 때 스위칭 허브가 얼마만큼의 메모리와 어느 정도의 주소 테이블을 저장할 수 있는지를 확인합니다.
   - 보통의 스위치는 메모리 용량 이상의 주소가 저장될 경우(연결 노드가 많은 경우) 스위칭 기능이 중지되고, 더미 허브와 같은 방식으로 동작합니다.
     - 장점: 구조가 간단하며, 신뢰성이 높습니다. 가격이 저렴하고, 성능이 좋습니다.
     - 단점: `Broadcast` 패킷에 의해 성능 저하가 발생합니다.
       - 라우팅이 불가능, 상위 레이어 프로토콜을 이용한 스위칭이 불가능합니다.

L3
---------------------------------------------------------------------------------------------------------------------------------------

### 6. Layer3 스위치의 특징
   - `L3` 스위치로 포트간 패킷 스위칭을 위해 패킷의 `IP`나 `IPX` 주소를 읽어서 스위칭을 하며, 통신 경로를 한 번만 설정합니다.
   - 해당 프로토콜을 쓴 패킷에 대해 스위칭이 가능하며, `IP`나 `IPX` 주소가 `OSI` 7계층 중 3계층에 해당하기 때문에 `Layer3` 스위치라고 합니다.
   - `L2` 스위치에 라우팅`(Routing)` 기능을 추가하고, 대부분의 고성능 하드웨어를 기초로 하였습니다.
     - 기본 구성은 `L2`와 동일합니다.
    
### <동작 원리>
   - 부팅 시 각 포트로 연결된 노드의 상태를 확인하고, 노드의 주소를 테이블의 메모리에 적재하여 패킷이 전달될 때 이 정보를 바탕으로 스위칭을 합니다.
   - `L3`은 `L2`에 비해 고급 기능을 지원하므로 `L2`는 일부 고급 기종에서만 스위치에 `IP`주소를 할당하지만 `L3`은 기본적으로 스위치 자체에 `IP`주소를 할당합니다.
   - 각 포트별 IP 주소 할당 내역 등을 설정하여 스위칭 할 때 설정된 값을 이용합니다.
     - 기본 설정 모드를 지원합니다
     - 장점: `Broadcast` 트래픽으로 전체 성능 저하를 막을 수 있습니다. 또한, 트래픽 체크, 가상 랜 등의 많은 부가 기능을 갖고 있습니다.
     - 단점: 특정 프로토콜을 이용해야 스위칭을 할 수 있습니다. 또한, 대부분의 트래픽이 서브넷의 한계를 넘습니다.
    
L4
---------------------------------------------------------------------------------------------------------------------------------------

### 7. Layer 4 스위치의 특징
   - `L3`과 같이 프로토콜을 기반으로 하며, 어플리케이션별로 우선 순위를 두어 스위칭이 가능합니다.
   - 여러 대의 서버를 1대처럼 묶을 수 있는 부하 분산`(Load Balancing)` 기능을 제공합니다.
     - 많은 양의 트래픽을 여러 서버로 분산할 수 있습니다.
   - 각 제조업체 별 설정 방법 및 제공 기능이 다르므로 특별한 표준을 지정하기가 어렵습니다.

### <동작 원리>
   - `L3` 스위치와 유사한 구조와 동작 원리를 갖고 있지만 가상 랜 기능과 그룹화, 부하 분산 등의 고급 설정이 추가로 포함되는 점이 다릅니다.
   - `TCP/IP` 프로토콜을 기반으로 동작하는 것이 대부분이며 포트 번호를 이용한 스위칭까지도 가능합니다.
   - 포트 번호는 수신 컴퓨터에서 `IP`패킷의 형태로 결정하여 상위 계층으로 전달합니다.
     - 장점: 보안성이 높고 고급 스위칭 설정이 가능합니다.
       - 상황에 적절한 설정이 가능하며, 용량에 관계 없이 네트워크의 성능 개선에 기여합니다.
     - 단점: 프로토콜에 의존적이며, 설정이 복잡합니다.
       - 고가의 장비로 `L2`,`L3` 스위치와 적절한 혼합 배치가 필요합니다.
